<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modeller Interface (oud) &mdash; 3Di  (dev doc 2023-03-20) documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/matomo.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            3Di
          </a>
              <div class="version">
                 (dev doc 2023-03-20)
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="a_background.html">Background of 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_ecosystem.html">3Di Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_modelling_concepts.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_contact.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">3Di Connectors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="b_fews_3di_integrations.html">FEWS-3Di integration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Modeller Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="i_what_is_mi.html">What is the Modeller Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_overview_user_interface.html">Overview of the Modeller Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_modelling_with_mi.html">Modelling with the Modeller Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Live Site</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="c_what_is_the_live_site.html">What is the 3Di Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_what_is_the_live_site.html#di-livesite">3Di Livesite</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html">Overview of the 3Di Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html">Modelling with the 3Di Live Site</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="e_klondike_workflow.html">Tutorial 1: Workflow of creating a 3Di Schematisation and a 3Di Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_tutorial.html">Tutorial 2: Building a Basic 2D Flow Schematisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_slope_tutorial.html">Tutorial 3: 2D flow model over sloped terrain with multiple rasters</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_levees_tutorial.html">Tutorial 4 Building a 2D flow model with levees, channels and breaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_1d_tutorial.html">Tutorial 5: Building a 1D model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Problem solving and support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="f_3di_instruments_and_downloads.html">Installation manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_problem_solving.html">FAQ and Problem Solving</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_servicedesk.html">Servicedesk</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="g_massconservation.html">Conservation of mass</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_flow.html">Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_sources_sinks.html">Source and Sink terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_levees_obstacles_breaches.html">Obstacles, Levees and Breaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_wind.html">Wind effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_interception.html">Interception</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="h_basic_modelling_concepts_threedi.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_grid.html">The grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_numerics.html">Numerics</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_control.html">Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_calculation_grid_data.html">Tabulated data storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_results.html">Results 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_aggregate_results.html">Aggregated output</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_state_files.html">State files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">3Di</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Modeller Interface (oud)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/b_ecosystem.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="modeller-interface-oud">
<h1>Modeller Interface (oud)<a class="headerlink" href="#modeller-interface-oud" title="Permalink to this heading"></a></h1>
<p>The Modeller Interface is the interface for the hydrology experts. This interface is used to build models, edit models, start simulations and analyse results. The Modeller Interface is a customised QGIS installation with dedicated plugins for the use of 3Di.
This setup allows users to benefit of all processing power of QGIS combined with custom made tools supporting 3Di. Since a 3Di schematisation consists of a compact database (currently spatialite format) and rasters users have a great deal of freedom in building their model.
And when finished there is no import/export necessary, the spatial dataset is the schematisation.</p>
<figure class="align-default" id="id3">
<img alt="3Di Modeller Interface" src="_images/a_intro_modeller_interface.png" />
<figcaption>
<p><span class="caption-text">An example of a schematisation in de Modeller Interface.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We have chosen QGIS as our supporting platform to build, edit and analyse the 3Di models and the results for the following reasons:</p>
<ul class="simple">
<li><p>QGIS Technology allows you to use the power of hundreds of GIS processing tools</p></li>
<li><p>Combine web maps (aerial, topo, osm and may others) and model schematisations</p></li>
<li><p>It offers almost unlimited styling options styling options</p></li>
<li><p>It is a highly customisable interface</p></li>
<li><p>Option for building own plugins to interact with model (results)</p></li>
<li><p>It is an open source platform.</p></li>
</ul>
<p>You can find the downloads and instructions of the Modeller Interface in this section: <a class="reference internal" href="f_3di_instruments_and_downloads.html#mi-installation"><span class="std std-ref">Modeller Interface installation</span></a>.</p>
</section>
<section id="di-live">
<h1>3Di Live<a class="headerlink" href="#di-live" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://www.3di.live/">https://www.3di.live/</a></p>
<p>The 3Di Live Site is the interface where users have live insight in the results of their simulation. Not only that, they can also interact with it. This interface is perfect to create a shared understanding of the watersystem.
Scientific papers on this can be found <a class="reference external" href="https://www.researchgate.net/publication/285586163_Interactive_use_of_simulation_models_for_collaborative_knowledge_construction_-_The_case_of_flood_policy_decision-making">here</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/k9heL89ZF1E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p><em>A short introduction of 3Di.live</em></p>
</section>
<section id="di-api">
<h1>3Di API<a class="headerlink" href="#di-api" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://api.3di.live/v3/">https://api.3di.live/v3/</a>
<a class="reference external" href="https://api.3di.live/v3/swagger/">https://api.3di.live/v3/swagger/</a></p>
<figure class="align-default">
<img alt="3Di API" src="_images/e_api.png" />
</figure>
<p>The 3Di API is the center of the 3Di Ecosystem as it allows all interactions of users and forcings. The 3Di API is accessible for users. It is a more advanced way of modelling, but it gives you lots of flexibility and can speed up projects.
We give here some examples of applications, where it can be usefull to interact directly using the API.</p>
<ul class="simple">
<li><p>Batch simulations: run hundred different rain events</p></li>
<li><p>Automated testruns &amp; results checking &amp; adjusting a model and run it again</p></li>
<li><p>Run 3Di in an operational setting</p></li>
<li><p>Use Jupyter Notebooks to run, download and analyse 3Di simulations. Examples can be found on the : <a class="reference external" href="https://github.com/threedi/scripts-nens/tree/master/Notebooks%203Di%20-%20API%20v3%20-%20VD">threedi github repository</a></p></li>
<li><p>Design your own control for weirs or other structures</p></li>
</ul>
<p>The current production API of 3Di is v3.</p>
</section>
<section id="management-portal">
<span id="id1"></span><h1>Management Portal<a class="headerlink" href="#management-portal" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://management.3di.live/">https://management.3di.live/</a></p>
<figure class="align-default">
<img alt="Management portal" src="_images/b_managementportal.png" />
</figure>
<figure class="align-default">
<img alt="Management portal - Model management" src="_images/b_managementportal_models.png" />
</figure>
<p>The Modeller Interface is used to build and edit you model schematisation on your own computer. However, the 3Di models are stored in the cloud, to enable version control. When uploading a model it is stored in the so-called <em>3Di Model Database</em>. Users upload their model with a description of the adjustment being made.
Colleagues can synchronise their models on their own laptop and continue working with the improved version.</p>
<p>The Management Portal can be used to monitor running simulations, download results, manage 3Di models, schematisations and simulation templates. With our portal we aim to provide our users with the necessary information to run day-to-day tasks within a web browser.</p>
</section>
<section id="authorisation-and-authentication">
<span id="authorisation-authentication"></span><h1>Authorisation and authentication<a class="headerlink" href="#authorisation-and-authentication" title="Permalink to this heading"></a></h1>
<p>Within 3Di the data governance structure is set-up per organisation. People from within the same organisation can see all models that belong to their entity. Sharing the model with people outside your organisation is also possible. There are two ways to organise this:</p>
<ul class="simple">
<li><p>external people get access to the 3Di subscription, have read and write access to the models and can run them</p></li>
<li><p>external people download the 3Di models and use their own subscription for running simulation</p></li>
</ul>
<section id="signing-in">
<h2>Signing in<a class="headerlink" href="#signing-in" title="Permalink to this heading"></a></h2>
<p>Users that already have a 3Di account can click the “Log in”
button on the top right of the screen.</p>
<p>First-time users require an invitation to create a 3Di account. Users with
a “manager” role are able to send invitations to new users.
If you do not know whom to contact, please contact our support office
(<a class="reference external" href="mailto:servicedesk&#37;&#52;&#48;nelen-schuurmans&#46;nl">servicedesk<span>&#64;</span>nelen-schuurmans<span>&#46;</span>nl</a>).</p>
<p>After clicking “Log in” or after following the invitation link, you will arrive
at the login screen.</p>
<img alt="_images/login.png" src="_images/login.png" />
<p>On the login page you have three different options to sign in:</p>
<ol class="arabic simple">
<li><p>through a company account,</p></li>
<li><p>with username and password,</p></li>
<li><p>by creating a new account (Sign up).</p></li>
</ol>
<p>First-time users may choose any of these options. If your company is listed as
one of the possible companies to sign in with, that is the preferred choice.</p>
<p>Existing users should use the same method as they used when signing in for
the first time. If your 3Di username/password existed before May 2022,
use method 3.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Do you want to add your company to the list to centralise the user accounts
of your organisation? Please contact our support office
(<a class="reference external" href="mailto:servicedesk&#37;&#52;&#48;nelen-schuurmans&#46;nl">servicedesk<span>&#64;</span>nelen-schuurmans<span>&#46;</span>nl</a>) for the options.</p>
</div>
</section>
<section id="personal-api-key">
<span id="id2"></span><h2>Personal API Key<a class="headerlink" href="#personal-api-key" title="Permalink to this heading"></a></h2>
<p>When you login via your browser, your browser receives a session cookie.
All subsequent requests to the API are authenticated with that session cookie.</p>
<p>Authenticating to the REST API outside of a browser is done by attaching a
Personal API Key to <em>every</em> request. You can attach a Personal API Key to
a request by using HTTP Basic Authentication with password = {your api key}.
The username needs to be fixed to <code class="docutils literal notranslate"><span class="pre">__key__</span></code> (with double underscores on both
sides of the word “key”).</p>
<p>Almost all applications or script languages support HTTP Basic Authentication.</p>
<p>Generate a Personal API key at <a class="reference external" href="https://management.3di.live/personal_api_keys">https://management.3di.live/personal_api_keys</a>.
It is considered best practise to generate one Personal API Key per application
or script, so that you can selectively revoke keys in case they are compromised.</p>
</section>
<section id="roles">
<h2>Roles<a class="headerlink" href="#roles" title="Permalink to this heading"></a></h2>
<p>We have 4 roles and 3 different types of privileges.</p>
<ul class="simple">
<li><p>A <strong>Viewer</strong>, who can only <em>read</em> data and <em>follow</em> simulations</p></li>
<li><p>A <strong>Simulation runner</strong>, who can <em>read</em> data and <em>run</em> simulations</p></li>
<li><p>An <strong>Creator</strong>, who can <em>read</em> data and can <em>add</em>, <em>change</em> or <em>delete</em> schematisations and 3Di models</p></li>
<li><p>A <strong>Manager</strong>, who can <em>manage</em> other roles in the organisation. A manager can not read or write data by default. This role should be appointed separately.</p></li>
</ul>
</section>
<section id="user-management">
<h2>User management<a class="headerlink" href="#user-management" title="Permalink to this heading"></a></h2>
<p>Users can be managed in the User Management interface.
This interface can be reached via <a class="reference external" href="https://api.3di.live/management/users/">https://api.3di.live/management/users/</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You require a “manager” role to access the User Management interface.
Haven’t got a “manager” role but you would like to add the User Management interface?
Please contact the application manager within your organisation or our support office (<a class="reference external" href="mailto:servicedesk&#37;&#52;&#48;nelen-schuurmans&#46;nl">servicedesk<span>&#64;</span>nelen-schuurmans<span>&#46;</span>nl</a>)</p>
</div>
<img alt="_images/b_usermanagement1.png" src="_images/b_usermanagement1.png" />
<p>In the example above, you see the current rights for 6 users under the organisation ‘3Di test’.</p>
<section id="manage-existing-users">
<h3>Manage existing users<a class="headerlink" href="#manage-existing-users" title="Permalink to this heading"></a></h3>
<p>The User Management interface gives you an overview of all users that have roles for your organisation.
If you are Manager for multiple organisations you can switch organisation using the button in the dark green bar. You can change the role of a user by clicking the “+” next to the user and choose the roles you want to assign. Then click “Save” to make the changes.</p>
</section>
<section id="adding-a-new-user">
<h3>Adding a new user<a class="headerlink" href="#adding-a-new-user" title="Permalink to this heading"></a></h3>
<p>You can add a new user by clicking the “NEW USER” icon in the upper right corner.</p>
<p>This will lead you to the screen to add a new user.</p>
<img alt="_images/b_usermanagement2.png" src="_images/b_usermanagement2.png" />
<p>By default the new user is granted a “Viewer” role. At least one role is required when invite a new user.
Do not forget to click ‘Save’! When saved, an invitation email will be sent to the new user.
This user can follow the invitation link to (if necessary) create an account and receive the new roles.
The user will appear in the user management overview once they accepted the invite and created the account.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes this invitation mail will end up in the spam folder.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The invitated user is required to sign in with the email address that is supplied by the manager. This email address can’t be changed later on.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Deselect all roles will remove the user from the organisation but will not delete the user’s account. You cannot remove your own manager role.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Click on ‘Pending Users’, to see who have not completed the acitvation process yet.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Nelen &amp; Schuurmans.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>