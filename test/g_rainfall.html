<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rainfall &mdash; 3Di  (dev doc 2023-03-13) documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/matomo.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Infiltration" href="g_infiltration.html" />
    <link rel="prev" title="Source and Sink terms" href="g_sources_sinks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            3Di
          </a>
              <div class="version">
                 (dev doc 2023-03-13)
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="a_background.html">Background of 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_ecosystem.html">3Di Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_modelling_concepts.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_contact.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">3Di Connectors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="b_fews_3di_integrations.html">FEWS-3Di integration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Modeller Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="i_what_is_mi.html">What is the Modeller Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_overview_user_interface.html">Overview of the user Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_modelling_with_mi.html">Modelling with the Modeller Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Live Site</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="c_what_is_the_live_site.html">What is the live site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_what_is_the_live_site.html#using-the-3di-live-site">Using the 3Di Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html">Overview of the live site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html#login-to-the-live-site">Login to the Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html#overview-session-screen-and-tooling">Overview session screen and tooling</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html#notables">Notables</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html">Modelling with the live site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#start-or-follow-a-session">Start or follow a session</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#editing-a-model-schematisation-with-the-live-site">Editing a model schematisation with the live site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#simulation-interventions">Simulation interventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#analyzing-results-while-scenario-is-running">Analyzing results while scenario is running</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#quitting-the-simulation">Quitting the simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html#store-results">Store results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="e_klondike_workflow.html">Tutorial 1: Workflow of creating a 3Di Schematisation and a 3Di Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_tutorial.html">Tutorial 2: Building a Basic 2D Flow Schematisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_slope_tutorial.html">Tutorial 3: 2D flow model over sloped terrain with multiple rasters</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_levees_tutorial.html">Tutorial 4 Building a 2D flow model with levees, channels and breaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_1d_tutorial.html">Tutorial 5: Building a 1D model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Problem solving and support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="f_3di_instruments_and_downloads.html">Installation manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_problem_solving.html">FAQ and Problem Solving</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_servicedesk.html">Servicedesk</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="g_massconservation.html">Conservation of mass</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_flow.html">Flow</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="g_sources_sinks.html">Source and Sink terms</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Rainfall</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rain-in-the-2d-domain">Rain in the 2D Domain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#input">Input</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rainfall-on-0d-node-inflow">Rainfall on 0D node (inflow)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rainfall-on-0d-and-2d">Rainfall on 0D and 2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spatially-varying-rainfall">Spatially varying rainfall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="g_infiltration.html">Infiltration</a></li>
<li class="toctree-l2"><a class="reference internal" href="g_laterals.html">Laterals</a></li>
<li class="toctree-l2"><a class="reference internal" href="g_surface_sources_sinks.html">Surface source and sink</a></li>
<li class="toctree-l2"><a class="reference internal" href="g_leakage.html">Leakage</a></li>
<li class="toctree-l2"><a class="reference internal" href="g_inflow.html">Inflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="g_levees_obstacles_breaches.html">Obstacles, Levees and Breaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_wind.html">Wind effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_interception.html">Interception</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="h_basic_modelling_concepts_threedi.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_grid.html">The grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_numerics.html">Numerics</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_control.html">Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_calculation_grid_data.html">Tabulated data storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_results.html">Results 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_aggregate_results.html">Aggregated output</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_state_files.html">State files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">3Di</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="g_sources_sinks.html">Source and Sink terms</a></li>
      <li class="breadcrumb-item active">Rainfall</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/g_rainfall.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rainfall">
<span id="rain"></span><h1>Rainfall<a class="headerlink" href="#rainfall" title="Permalink to this heading"></a></h1>
<p>One of the source terms described in  <a class="reference internal" href="g_massconservation.html#cons-volume"><span class="std std-ref">Conservation of mass</span></a> is rain. Naturally, rain can fall on the 2D domain. However, 3Di also supports inflow from rain in the 1D domain. The <em>rain</em> is determined by the 0D <a class="reference internal" href="g_inflow.html#inflow"><span class="std std-ref">Inflow</span></a> module and adds the outgoing flow directly in the 1D network.</p>
<section id="rain-in-the-2d-domain">
<h2>Rain in the 2D Domain<a class="headerlink" href="#rain-in-the-2d-domain" title="Permalink to this heading"></a></h2>
<p>There are several options for the user concerning rain. Rain is always set as an intensity in mm/hr. During a 3Di simulation, rain is automatically converted into rainfall, as it is scaled with the active cell surface area. The active area of a cell is defined by the cell size and the bathymetry. In case the bathymetry is not defined (the bathymetry raster can contain nodata values) in parts of a cell, these parts do not contribute to the active area.</p>
<figure class="align-default" id="id1">
<img alt="rainnodata" src="_images/b_rainfall_nodatagrid.png" />
<figcaption>
<p><span class="caption-number">Fig. 61 </span><span class="caption-text">It can only rain in areas where the bathymetry is defined. The areas with nodata values in the Bathymetry file are white.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this heading"></a></h3>
<p>The options for rain:</p>
<ol class="arabic simple">
<li><p><strong>Radar-based rain</strong> - Based on the radar rain images, temporally and spatially varying rain information is available. The Dutch <a class="reference external" href="https://nationaleregenradar.nl/">Nationale Regenradar</a> is available for all Dutch applications. On request, the information from other radars can be made available to 3Di as well.</p></li>
<li><p><strong>Design rain</strong> - Time varying rain intensity can be used globally during a computation. The so-called design rain events are time series, which are traditionally used to test the functioning of a sewer system in the Netherlands. These originate from <a class="reference external" href="https://www.riool.net/neerslaggebeurtenissen-1">RIONED</a>. However, all time-series from Lizard can directly be coupled to a 3Di simulation.</p></li>
<li><p><strong>Constant rainfall</strong> - The rain intensity is uniform and constant in time during a computation.</p></li>
<li><p><strong>Rain cloud</strong> - a circle type of spatial rainfall with a constant value within the circle and specified time period</p></li>
</ol>
<p>Via the 3Di API are only options 1, 2, and 3 available. Via the API, multiple periods of constant rain can be added, to customize your own rain event.</p>
</section>
</section>
<section id="rainfall-on-0d-node-inflow">
<h2>Rainfall on 0D node (inflow)<a class="headerlink" href="#rainfall-on-0d-node-inflow" title="Permalink to this heading"></a></h2>
<p>Apart from rainfall on the 2D domain, 3Di uses a 0D <a class="reference internal" href="g_inflow.html#inflow"><span class="std std-ref">Inflow</span></a> module (impervious area or surface area). The rainfall volume (area x rainfall_intensity x delta t) is calculated for each time step for each impervious area or surface area. Based on the formulation of the impervious area or surface area (<a class="reference internal" href="g_inflow.html#inflow"><span class="std std-ref">Inflow</span></a>), the discharge hydro-graph (discharge over time) is calculated as a lateral discharge on its downstream 1D node.</p>
<figure class="align-default" id="id2">
<img alt="rainfall_inloop" src="_images/b_rainfall_inloop.png" />
<figcaption>
<p><span class="caption-number">Fig. 62 </span><span class="caption-text">Rainfall is translated to a lateral discharge on a 1D node.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The so-called surfaces that represent the areas capturing the rain always contain a geometry. This allows to use the 0D module in combination with spatially varying rain.</p>
</section>
<section id="rainfall-on-0d-and-2d">
<h2>Rainfall on 0D and 2D<a class="headerlink" href="#rainfall-on-0d-and-2d" title="Permalink to this heading"></a></h2>
<p>3Di allows the user to select whether rainfall falls on 0D, 2D or both. Using both 0D and 2D rainfall can be useful in several cases, for example:</p>
<ul class="simple">
<li><p>complex sewerage models that use inflow for the flow of water from roofs to the sewerage and 2D surface for rainfall and discharge over roads, or</p></li>
<li><p>large systems in which a small area is modeled in detail while upstream catchments are lumped in 0D inflow.</p></li>
</ul>
<p>When using both 0D and 2D rainfall one must be aware that the user is responsible for defining the correct areas in 0D and in 2D. This in order to avoid an overestimation of the area capturing rain. This can be ensured by cutting areas from the DEM or by including interception (<a class="reference internal" href="g_interception.html#interception"><span class="std std-ref">Interception</span></a>).</p>
<figure class="align-default" id="id3">
<img alt="rainfall_hybrid" src="_images/b_rainfall_hybrid.png" />
<figcaption>
<p><span class="caption-number">Fig. 63 </span><span class="caption-text">Rainfall over 2D and through 0D surface as a lateral discharge.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="spatially-varying-rainfall">
<h2>Spatially varying rainfall<a class="headerlink" href="#spatially-varying-rainfall" title="Permalink to this heading"></a></h2>
<p>The resolution of spatially distributed rainfall data does usually not match the resolution of the 2D computational cells. Generally, the resolution of the rainfall data is much coarser than the resolution of the computational grid. The rain intensity per computational cell is based on the intensity at the location of the center of the cell. This intensity is scaled with the active surface of the computational cell.</p>
<p>For spatially varying rainfall in combination with the 0D inflow module, the intensity is determined based on the location of the centroid of the inflow surface.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="g_sources_sinks.html" class="btn btn-neutral float-left" title="Source and Sink terms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="g_infiltration.html" class="btn btn-neutral float-right" title="Infiltration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Nelen &amp; Schuurmans.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>