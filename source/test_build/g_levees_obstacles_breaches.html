<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Obstacles, Levees and Breaches &mdash; 3Di  (dev doc 2023-04-03) documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="_static/matomo.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Wind effects" href="g_wind.html" />
    <link rel="prev" title="Inflow" href="g_inflow.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            3Di
          </a>
              <div class="version">
                 (dev doc 2023-04-03)
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="a_background.html">Background of 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_ecosystem.html">3Di Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_contact.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modelling Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="a_modelling_concepts.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="b_modeling_components.html">Modeling components</a></li>
<li class="toctree-l1"><a class="reference internal" href="b_modelling_workflow.html">Modelling Workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Modeller Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="i_what_is_mi.html">What is the Modeller Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_overview_user_interface.html">Overview of the Modeller Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="i_modelling_with_mi.html">Modelling with the Modeller Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Live Site</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="c_what_is_the_live_site.html">What is the Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_livesite_overview.html">Overview of the Live Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_modelling_with_live_site.html">Modelling with the Live Site</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide to the 3Di Management Portal</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="d_management.html">What is the Management Portal</a></li>
<li class="toctree-l1"><a class="reference internal" href="d_management.html#overview-management-portal">Overview management portal</a></li>
<li class="toctree-l1"><a class="reference internal" href="d_overview_management_portal.html">How to use the Management Portal</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">3Di for developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="j_api.html">3Di API</a></li>
<li class="toctree-l1"><a class="reference internal" href="j_threedigrid.html">3Di Results API</a></li>
<li class="toctree-l1"><a class="reference internal" href="j_fews_3di_integrations.html">FEWS-3Di integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="j_lizard_api.html">Lizard API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="e_klondike_workflow.html">Tutorial 1: Workflow of creating a 3Di Schematisation and a 3Di Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_tutorial.html">Tutorial 2: Building a Basic 2D Flow Schematisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_slope_tutorial.html">Tutorial 3: 2D flow model over sloped terrain with multiple rasters</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_2d_levees_tutorial.html">Tutorial 4 Building a 2D flow model with levees, channels and breaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="e_1d_tutorial.html">Tutorial 5: Building a 1D model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Problem solving and support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="f_3di_instruments_and_downloads.html">Installation manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_authentication_user_management.html">Authentication and User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_problem_solving.html">FAQ and Problem Solving</a></li>
<li class="toctree-l1"><a class="reference internal" href="f_servicedesk.html">Servicedesk</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="g_massconservation.html">Conservation of mass</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_flow.html">Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_sources_sinks.html">Source and Sink terms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Obstacles, Levees and Breaches</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-obstacle-detection">General obstacle detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#explicitly-defined-obstacles">Explicitly defined obstacles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#breaches">Breaches</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#breach-growth-formulation">Breach growth formulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exchange-formulation">Exchange formulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="g_wind.html">Wind effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="g_interception.html">Interception</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="h_basic_modelling_concepts_threedi.html">Basic Modelling Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_grid.html">The grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_numerics.html">Numerics</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_control.html">Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_calculation_grid_data.html">Tabulated data storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_results.html">Results 3Di</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_aggregate_results.html">Aggregated output</a></li>
<li class="toctree-l1"><a class="reference internal" href="h_state_files.html">State files</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Overig</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="d_scenario_archive.html">Scenario Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="d_scenario_archive.html#view-stored-results">View stored results</a></li>
<li class="toctree-l1"><a class="reference internal" href="d_scenario_archive.html#damage-estimation">Damage Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="d_scenario_archive.html#load-rasters-in-3di-modeller-interface-using-wms">Load rasters in 3Di Modeller Interface using WMS</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">3Di</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Obstacles, Levees and Breaches</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/g_levees_obstacles_breaches.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="obstacles-levees-and-breaches">
<span id="obstacles"></span><h1>Obstacles, Levees and Breaches<a class="headerlink" href="#obstacles-levees-and-breaches" title="Permalink to this heading"></a></h1>
<p>The subgrid technique used in 3Di allows for a very detailed description of the elevation. However, the subgrid technique does not recognizes all narrow elements within a cell as blocking. Only when these are located at the cell edges they are detected and will block flow. When an element can be defined as narrow depends on the dimensions of the computational cell. Examples of narrow elements can be levees, residential blocks or quay walls. There are several methods for dealing with these elements. One can always refine the computational grid, however, this can be unnecessarily give an increase in the computation cost, but blocking a flow can be essential for a correct result. 3Di offers two different methods to achieve this. It can either be done by general obstacle detection, or by adding an obstacle at a specific location. To elaborate, when using general obstacle detection, the modeler only gives an obstacle height, which the 3Di computational core uses to determine obstacle locations itself. Using the latter method, a modeler can add an obstacle with a specific location and height.</p>
<p>In practice these two methods can have a different outcome. The explicitly defined obstacles are much stricter in closing 2D flow lines. For some situations this is necessary, however it can also result in an ‘angular’ flow domain which might result in additional friction. The ‘general’ obstacle detection is on the other hand, not always strict enough, but it does not require any work of the modeler. Moreover, it is also possible to use both options in one model. In this case, when both methods block a flow line, the explicitly defined obstacle is dominant over the general approach.</p>
<section id="general-obstacle-detection">
<h2>General obstacle detection<a class="headerlink" href="#general-obstacle-detection" title="Permalink to this heading"></a></h2>
<p>The aim of the obstacle routine is to define obstacle locations based on elevation differences in the elevation layer. As this routine can be used by only defining an obstacle height, this function is easy to use by the modeler. However, in practice this method is not always strict enough, with ‘leaking’ obstacles as a result. Also, the routine may place flow obstacles at undesired locations due to local elevation variations.</p>
<p>The obstacle routine searches for a flow route from one location to another in the direction of the flow velocity within a so called momentum domain. Examples of the momentum domains in x- and y-direction are shown with blue and pink planes in Figure 1. The modeler determines the minimum level of an observed obstacle. This height is relative to the local bottom height. If there is an elevation difference within a computational cell that exceeds the given obstacle height, the flow routine will search for a pathway between one edge of the momentum domain to the other edge. It will try to find a route to reach the other end of the domain for various water levels. When only a route can be found for higher water levels than the input minimal level, the cell will be marked as one that contains an obstacle. The flow link is activated when the water level exceeds the height at which the other end of the cell can be reached.</p>
<figure class="align-right" id="id2">
<a class="reference internal image-reference" href="_images/b6_gridwithsearchroutine.png"><img alt="virtual_conservation_box" src="_images/b6_gridwithsearchroutine.png" style="width: 312.5px; height: 306.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 69 </span><span class="caption-text">Figure 1: A computational grid for 2D flow including local grid refinement. The momentum domains in x- (pink) and y-direction (blue) are indicated by the planes. The schematic obstacle that is found in the digital terrain model is indicated with a green line. The dark green lines show the route found in the various momentum domains (the blue lines). The flow lines indicated as domains that contain an obstacle are represented by the red lines. The blue circles show locations where one might want an obstacle to be defined, but remains open using this routine.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>There are two exceptions to the this flow routine. First, if the elevation increases with a constant slope, this is recognized by the routine. Also, a slope is recognized when the difference between the minimum and maximum levels at the edges of a computational cell is larger than the obstacle height.</p>
</section>
<section id="explicitly-defined-obstacles">
<h2>Explicitly defined obstacles<a class="headerlink" href="#explicitly-defined-obstacles" title="Permalink to this heading"></a></h2>
<p>If the model wishes to include an obstacle that may not be detected by the calculation grid or doesn’t exist in the elevation model it can be given explicitly. These obstacles are given by a line segment and an elevation. These lines and elevations are placed over the quadtree. The routine checks which 2D links cross the obstacle line. For those links that are crossed the obstacle height is used instead of the elevation height for Flow computation. The figure below shows an example of an obstacle line in green.</p>
<figure class="align-right" id="id3">
<a class="reference internal image-reference" href="_images/b6_gridwithobstacles.png"><img alt="virtual_conservation_box" src="_images/b6_gridwithobstacles.png" style="width: 308.0px; height: 306.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 70 </span><span class="caption-text">Figure 2: A computational grid for 2D flow including local grid refinements. The momentum domains in x- (pink) and y-direction (blue) are indicated by the planes. The obstacle elements are given with a green line and the flow links with a dashed blue line. The flow links closed by the obstacle are marked with a thick red line.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the computational core a levee and obstacle are dealt with the same way. However, defining them is slightly different. Levees are a separate category of obstacle, because they need more variable characteristics than obstacles. Levees may be used to simulate <a class="reference internal" href="#breaches"><span class="std std-ref">Breaches</span></a>.</p>
<p>More details on how to use obstacles, levees and breaches can be found in <a class="reference internal" href="d_flood_model.html#flood-model"><span class="std std-ref">Flood model</span></a>.</p>
</section>
<section id="breaches">
<span id="id1"></span><h2>Breaches<a class="headerlink" href="#breaches" title="Permalink to this heading"></a></h2>
<p>3Di can simulate the consequences of a breach in a levee. In such case, the dimensions of the breach determine flow through the breach and therefore the flood. The growth of a breach is a very complex process. It is a phenomenon where hydrodynamics, morphology, groundwater and soil mechanics interact. Many aspects of this interaction is still unknown, and therefore it is difficult to model. Moreover, detailed modeling would require very detailed information about the levee. Generally, there is only a limited amount of information about the soil, structure, moisture content etc of the levee.   Nevertheless, rules of thumb have been developed that describe the breach growth, which allow us to make an estimate of the breach growth.</p>
<p>In a 3Di model, flow may occur between 1D and 2D elements. In certain cases this exchange is limited by a levee. The exchange height is determined by the height of the levee. When a few extra properties of the levee are specified for these connections, a breach can be modelled that can grow over time. More information on levees, can be found in <a class="reference internal" href="#obstacles"><span class="std std-ref">Obstacles, Levees and Breaches</span></a></p>
<section id="breach-growth-formulation">
<h3>Breach growth formulation<a class="headerlink" href="#breach-growth-formulation" title="Permalink to this heading"></a></h3>
<p>In 3Di, the formula of Verheij and van de Knaap (2002) is used to describe the growth of a breach. For this formulation it is expected that the material of the levee (sand or clay), an initial breach width, the maximum breach depth and the period that is needed to reach this depth are known.</p>
<figure class="align-right" id="id4">
<img alt="breach growth" src="_images/b_breach_growth.png" />
<figcaption>
<p><span class="caption-number">Fig. 71 </span><span class="caption-text">Longitudinal cross-section of breach showing the breach growth parameters.</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This formulation splits the growth of the breach into two phases; in the first phase the breach deepens and in the second phase the breach widens. Mathematically, the first phase can be described as:</p>
<div class="math notranslate nohighlight" id="equation-breach-growthb">
<span class="eqno">(15)<a class="headerlink" href="#equation-breach-growthb" title="Permalink to this equation"></a></span>\[B(t) = B_0    \qquad \qquad \qquad \qquad  \qquad  \qquad       t_{start} &lt; t &lt; T_0\]</div>
<div class="math notranslate nohighlight" id="equation-breach-growthet">
<span class="eqno">(16)<a class="headerlink" href="#equation-breach-growthet" title="Permalink to this equation"></a></span>\[\eta(t + \Delta t) = \eta(t) - \frac{t}{T_0} (\eta(t) - \eta_{min}) \qquad        t_{start} &lt; t &lt; T_0\]</div>
<div class="line-block">
<div class="line">In which:</div>
<div class="line"><span class="math notranslate nohighlight">\(B(t)\)</span> is the width of the breach at time t,</div>
<div class="line"><span class="math notranslate nohighlight">\(\eta_{min}\)</span> is the minimum level of the breach,</div>
<div class="line"><span class="math notranslate nohighlight">\(T_0\)</span> is the period in the minimum level is reached,</div>
<div class="line"><span class="math notranslate nohighlight">\(B_0\)</span> is the initial breach width, and</div>
<div class="line"><span class="math notranslate nohighlight">\(\Delta t\)</span> is the time step</div>
<div class="line"><span class="math notranslate nohighlight">\(\eta(t)\)</span> is the level of the breach at time t.</div>
<div class="line"><br /></div>
</div>
<p>Once the minimum breach level is reached, the width of the breach increases according to:</p>
<div class="math notranslate nohighlight" id="equation-breach-growth2">
<span class="eqno">(17)<a class="headerlink" href="#equation-breach-growth2" title="Permalink to this equation"></a></span>\[\begin{split}B(t + \Delta t) = B(t) + \frac{\partial B}{\partial t}  |_t \Delta t  \qquad     t &gt; T_0 \\
\frac{\partial B}{\partial t}  |_t = \frac{f_1  f_2}{u_c^2 ln[10]}  \frac{[g(h_{up}(t) - h_{down}(t))]^{3/2}}{1 + \frac{f_2g}{u_c}(t - T_0) }   \qquad     t &gt; T_0\end{split}\]</div>
<div class="line-block">
<div class="line">In which:</div>
<div class="line"><span class="math notranslate nohighlight">\(f_1, f_2\)</span> empirically derived parameters, different per sediment type,</div>
<div class="line"><span class="math notranslate nohighlight">\(u_c\)</span> is the critical velocity</div>
<div class="line"><span class="math notranslate nohighlight">\(h_{up}, h_{down}\)</span> is the water level upstream and downstream of the breach.</div>
<div class="line"><br /></div>
</div>
<p>Because the water level gradient in front and behind the breach is included in the formulation, a natural balance may arise. This means that the breach stops growing, when the water levels are equal.</p>
<p>The above formulation also corrects for the presence of different types of materials by using a critical velocity and the parameters <span class="math notranslate nohighlight">\(f_1\)</span> and <span class="math notranslate nohighlight">\(f_2\)</span> . The growth rate of the breach increases for materials that erode more easily. In principle, this formulation distinguishes only sand and clay.</p>
</section>
<section id="exchange-formulation">
<h3>Exchange formulation<a class="headerlink" href="#exchange-formulation" title="Permalink to this heading"></a></h3>
<p>The flow between 1D and 2D at the breach is computed based on a simplified momentum balance. A balance is made between the friction and the forcing. Note, that the volume in the breach is neglected.</p>
<p>More details on how to use obstacles, levees and breaches can be found in <a class="reference internal" href="d_flood_model.html#flood-model"><span class="std std-ref">Flood model</span></a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="g_inflow.html" class="btn btn-neutral float-left" title="Inflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="g_wind.html" class="btn btn-neutral float-right" title="Wind effects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Nelen &amp; Schuurmans.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>